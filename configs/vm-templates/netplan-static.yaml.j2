# Netplan configuration for static IP assignment
# Template for Ubuntu VMs in the SOC lab

network:
  version: 2
  renderer: networkd
  ethernets:
    {{ interface_name }}:
      dhcp4: false
      dhcp6: false
      addresses:
        - {{ ip_address }}/24
      gateway4: {{ gateway }}
      nameservers:
        addresses:
{% for dns in dns_servers %}
          - {{ dns }}
{% endfor %}
{% if routes is defined %}
      routes:
{% for route in routes %}
        - to: {{ route.to }}
          via: {{ route.via }}
{% endfor %}
{% endif %}
      optional: true